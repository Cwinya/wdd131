<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="WDD131 - Dynamic Web Fundamentals - Review Confirmation" />
  <meta name="keywords" content="WDD131, Dynamic Web Fundamentals, Review Confirmation" />
  <meta name="author" content="Cwinya Moses" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;1,100&family=Lobster&display=swap" rel="stylesheet" />
  <title>Review Confirmation</title>
  <link rel="stylesheet" href="styles/form.css" />
  <script src="scripts/getdates.js"></script>
</head>
<body>
  <header>
    <h1>Review Submitted Successfully</h1>
  </header>

  <main>
    <p>Thank you for your review! Here is a summary of your submission:</p>
    <div id="reviewSummary"></div>
    <p>You have submitted <span id="reviewCount"></span> reviews so far.</p>
    <a href="form.html">Submit Another Review</a>
  </main>

  <footer>
    <p>&copy; <span id="year"></span> ðŸŒ¸ Cwinya Moses Jinja ðŸŒ¸ Uganda</p>
    <p>Last Modification: <span id="lastModified"></span></p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Get URL parameters
      const urlParams = new URLSearchParams(window.location.search);
      const summaryDiv = document.getElementById('reviewSummary');
      let summary = '<ul>';
      for (const [key, value] of urlParams) {
        summary += `<li><strong>${key}:</strong> ${value}</li>`;
      }
      summary += '</ul>';
      summaryDiv.innerHTML = summary;

      // Increment and display review count
      let reviewCount = localStorage.getItem('reviewCount') || 0;
      reviewCount = parseInt(reviewCount) + 1;
      localStorage.setItem('reviewCount', reviewCount);
      document.getElementById('reviewCount').textContent = reviewCount;
    });
  </script>
</body>
</html>
